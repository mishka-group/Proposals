# به روز رسانی و بازخوانی پلاگین ها بعد راه‌اندازی مجدد

## هدف 
فراخوانی و بازخوانی مجدد پلاگین ها در فایل `Application.ex` و تفکیک آن در صورتی که پروژه به صورت چتری بود.

## مشکل
در نسخه فعلی پروژه [`mishka_installer`](https://github.com/mishka-group/mishka_installer) توسعه دهنده باید هربار بعد از راه‌اندازی سرور `phoenix` یک بار از اول تمام پلاگین ها را در فایل `application` قرار بدهد البته این در زمانی است که توسعه دهنده بخواهند سورس را دوباره از `Github` پروژه بگیرد و در حقیقت به روز رسانی انجام بدهد. این مشکل در زمانی که داکر استفاده می شود نیز بیشتر به چشم می آید.

## راه حل
> این راه حل در شروع ایده پردازی برای این بخش از پروژه می باشد و ممکن است چندین بار تغییر ساختاری کاملی را تجربه کند

۱. راه حل اول: یک فایل `plugins.json` در روت پروژه ایجاد گردد که تمام پلاگین های اضافه شده به سیستم از آن در موقع شروع پروژه یا به واسطه یک `Mix Task` تغییر در `application` فایل ها مخصوصا در پروژه چتری انجام گیرد. این راه حل پیچیدگی زیادی دارد و همینطور  تغییر در فایل نیز باعث می شود نگهداری پروژه بسیار سخت شود.
۲. راه حل دوم: معرفی ساختار مناسب و ساده در نامگذاری پلاگین های ایجاد شده و بررسی آیا در مسیر این وابستگی ها آیا چیزی به عنوان `plugin.json` وجود دارد یا خیر اگر بله به هر ساب پروژه در شروع `application` معرفی شود به صورت مثال:

```json
{
   "plugins":[
      {
         "action":"Elixir.DeveloperModule.PluginOne",
         "project":"mishka_html"
      },
      {
         "action":"Elixir.DeveloperModule.PluginTwo",
         "project":"mishka_api"
      }
   ]
}
```
۳. راه حل سوم:  این مورد کاملا کار راه حل دوم را انجام دهد با این فرق که دیگر نامگذاری معرفی نشود بلکه کلیه `deps` های معرفی شده در `mix` فایل چک شود در هر ساب پروژه.
۴. راه حل چهارم: بررسی شود که هر پروژه به صورت `--sup` درست گردد و هر پلاگین در خودش یک `application` داشته باشد و در زمانی که به `mix` فایل معرفی می گردد  خودش خودکار اجرا گردد

> تمامی موارد بالا به هر صورت کاربر باید به صورت دستی یک فایل را ویرایش کند و با اینکه مشکل کوچکی می باشد برای کاربرانی که سطح دانش کمی در برنامه نویسی دارند و صرفا یک مدیر کسب و کار می باشد سخت است ولی اگر این مورد در شل انجام بگیرد و در موقع پرسش و پاسخ نصب سیستم یا به روز رسانی سیستم از کاربر پرسیده شود و از نسخه قبلی پروژه  نیز یک بکاپ داشته باشد این راه خیلی راحتر انجام می شود.

اگر نظری در این رابطه دارید لطفا با ما در تماس باشید با ارسال پول رکواست به این فایل جامعه کد باز را حمایت فرمایید
